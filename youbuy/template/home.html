{% extends 'base.html' %}

{% load static %}

{% block main %}

<div class="row mt-3" style="height: 100%; margin: auto; margin-bottom: 30px;">
      <div class="col-md-3" style="margin-left: auto;">
        <h4> Filter by Category </h4> <hr>
        <a href="/" class="text-decoration-none {% if request.path == '/' %}active{% endif %}" id="sidebar">All</a> <br>
        <a href="/filterbycategory/1" class="text-decoration-none {% if '/filterbycategory/1' in request.path %}active{% endif %}" id="sidebar">Shoes</a> <br>
        <a href="/filterbycategory/2" class="text-decoration-none {% if '/filterbycategory/2' in request.path %}active{% endif %}" id="sidebar">Smartphones</a> <br>
        <a href="/filterbycategory/3" class="text-decoration-none {% if '/filterbycategory/3' in request.path %}active{% endif %}" id="sidebar">Clothes</a> <br>
        <a href="/filterbycategory/4" class="text-decoration-none {% if '/filterbycategory/4' in request.path %}active{% endif %}" id="sidebar">Watches / Smartwatches</a> <br>
        <br><br>
        
        <h4>Sort by Price</h4><hr>
        <a href="/sortbyprice/~asc" class="text-decoration-none {% if '/sortbyprice/~asc' in request.path %}active{% endif %}" id="sidebar">Low to High</a> <br>
        <a href="/sortbyprice/~dsc" class="text-decoration-none {% if '/sortbyprice/~dsc' in request.path %}active{% endif %}" id="sidebar">High to Low</a> <br>
        <br><br>
<style>
  a {
    color: #101114; 
    text-decoration: none; 
  }

  #sidebar.active {
    color: #f4cb00 !important;  
    font-weight: bold; 
  }

 
  a:hover {
    outline: 1px solid lightgrey;
  }
</style>
      <h4>Filter by Price</h4><hr>
      <form method="GET" action="/filterbyprice">
          <div class="mb-3">
            <label for="number" class="form-label">Minimum</label>
            <input type="number" class="form-control" name="min" id="number" aria-describedby="emailHelp">
          </div>
          <div class="mb-3">
            <label for="number" class="form-label">Maximum</label>
            <input type="number" class="form-control" name="max" id="number" aria-describedby="emailHelp">
          </div>
          <div class="mb-3" style="padding-top: 5px;">
          <button type="submit" class="btn btn-danger" style="background-color: #fbd200; border-color: #fbd200; color: #000000;">Submit</button>
          </div>
      </form>
</div>
        
    
<div class="col-md-9 p-3">
  <h4>Products Section</h4>
  <br>
  <div class="row">
    {% if products %}
      {% for product in products %}
        <div class="col-md-3 mb-4">
          <div class="card mx-auto" style="width: 20rem; height: 385px; overflow: hidden; border-color: white; box-shadow: #000000;">
            <img src="{{product.pimage.url}}" class="card-img-top" alt="" style="height: 200px; object-fit: contain;">
            <div class="card-body">
              <h5 class="card-title" style="font-size: 18px; line-height: 1.7; white-space: nowrap; overflow: hidden;">{{product.pname}}</h5>
              <p class="card-text" style="font-size: 14px; line-height: 1.2;"><b>â‚¹{{product.price}}</b></p>
              {% if product.category == 1 %}
              <p class="card-text" style="font-size: 12px; line-height: 1.2; margin-bottom: 5px;">Category: Shoes</p>
              {% elif product.category == 2 %}
              <p class="card-text" style="font-size: 12px; line-height: 1.2; margin-bottom: 5px;">Category: Smartphones</p>
              {% elif product.category == 3 %}
              <p class="card-text" style="font-size: 12px; line-height: 1.2; margin-bottom: 5px;">Category: Clothes</p>
              {% elif product.category == 4 %}
              <p class="card-text" style="font-size: 12px; line-height: 1.2; margin-bottom: 5px;">Category: Watches</p>
              {% endif %}
              <p class="card-text" style="font-size: 14px; line-height: 1.2; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{product.description}}</p>
              <a href="/product_details/{{product.id}}/" class="btn btn-warning" style="background-color: #fbd200; border-color: #fbd200; font-size: 12px; padding: 5px 10px;">See Details</a>
            </div>
          </div>
        </div>
      {% endfor %}
    {% else %}  
      <p>No products available.</p>
    {% endif %}
  </div>
  </div>  
  <div class="clearfix"></div>
  </div>
  </div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>


{% endblock main %}